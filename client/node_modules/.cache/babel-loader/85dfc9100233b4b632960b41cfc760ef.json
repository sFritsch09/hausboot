{"ast":null,"code":"var _jsxFileName = \"/Users/djsicrip/Documents/WorkSpace/hausboot/client/src/components/form/forms-ui/date-picker.component.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from 'react';\nimport DatePicker from 'react-datepicker';\nimport { Calendar, FormInputLabel, GroupContainer, StyledErrorMessage } from './date-picker.styles';\nimport addDays from 'date-fns/addDays';\nimport useMedia from 'use-media';\nimport { useField, useFormikContext } from 'formik';\nimport 'react-datepicker/dist/react-datepicker.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst ReactDatePicker = ({\n  name,\n  name2,\n  booked\n}) => {\n  _s();\n\n  const [startDate, setStartDate] = useState(new Date());\n  const [endDate, setEndDate] = useState(new Date());\n  const [focusStart, setFocusStart] = useState(false);\n  const [focusEnd, setFocusEnd] = useState(false);\n  const isMobile = useMedia({\n    maxWidth: '900px'\n  });\n  const {\n    setFieldValue\n  } = useFormikContext();\n  const [field, meta] = useField({\n    name: name,\n    value: startDate\n  });\n  const [field2, meta2] = useField({\n    name: name2,\n    value: endDate\n  });\n\n  function WithoutTime(dateTime) {\n    var date = new Date(dateTime.getTime());\n    date.setHours(0, 0, 0, 0);\n    return date;\n  } // const bookedDates = [new Date('2021-05-20'), new Date('2021-05-21'), new Date('2021-05-22')];\n\n\n  const bookedDates = booked; //disables booked dates and sets a range limit of 5 days\n\n  const shouldDisableDates = () => {\n    let arr = [];\n\n    for (let i = 0; i <= 10; i++) {\n      startDate ? arr.push(addDays(WithoutTime(startDate), i)) : arr.push(addDays(WithoutTime(new Date()), i));\n    }\n\n    let chooseDays = arr.map(item => item.getTime());\n    let bookedDays = bookedDates.map(item => WithoutTime(item).getTime());\n\n    if (chooseDays.map(e => bookedDays.includes(e)).some(e => e === true)) {\n      return new Date(chooseDays.filter(e => bookedDays.includes(e)).sort()[0]);\n    } else {\n      return startDate ? addDays(startDate, 10) : addDays(new Date(), 10);\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(Calendar, {\n    children: [/*#__PURE__*/_jsxDEV(GroupContainer, {\n      children: [/*#__PURE__*/_jsxDEV(FormInputLabel, {\n        focus: focusStart,\n        className: startDate ? 'shrink' : '',\n        children: \"Anreisedatum\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(DatePicker, { ...field,\n        // {...props}\n        onFocus: () => setFocusStart(true),\n        onCalendarClose: () => setFocusStart(false),\n        selected: field.value && new Date(field.value) || null // selected={startDate}\n        ,\n        onChange: val => {\n          setStartDate(val);\n          setFieldValue(field.name, val);\n        },\n        dateFormat: \"dd.MM.yyyy\" // onChange={(date) => setStartDate(date)}\n        ,\n        selectsStart: true,\n        startDate: startDate,\n        endDate: endDate,\n        minDate: new Date(),\n        excludeDates: bookedDates,\n        withPortal: isMobile\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 5\n      }, this), meta.touched && meta.error ? /*#__PURE__*/_jsxDEV(StyledErrorMessage, {\n        children: meta.error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 35\n      }, this) : null]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(GroupContainer, {\n      children: [/*#__PURE__*/_jsxDEV(FormInputLabel, {\n        focus: focusEnd,\n        className: endDate ? 'shrink' : '',\n        children: \"Abreisedatum\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(DatePicker, { ...field2,\n        // {...props}\n        onFocus: () => setFocusEnd(true),\n        onCalendarClose: () => setFocusEnd(false) // selected={endDate}\n        ,\n        selected: field2.value && new Date(field2.value) || null,\n        onChange: val => {\n          setEndDate(val);\n          setFieldValue(field2.name, val);\n        },\n        dateFormat: \"dd.MM.yyyy\" // onChange={(date) => setEndDate(date)}\n        ,\n        selectsEnd: true,\n        startDate: startDate,\n        endDate: endDate,\n        minDate: startDate,\n        maxDate: shouldDisableDates(),\n        excludeDates: bookedDates,\n        withPortal: isMobile\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 5\n      }, this), meta2.touched && meta2.error ? /*#__PURE__*/_jsxDEV(StyledErrorMessage, {\n        children: meta2.error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 6\n      }, this) : null]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 4\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 48,\n    columnNumber: 3\n  }, this);\n};\n\n_s(ReactDatePicker, \"ljyWTRb9Y63RtkPkyHqJ5uvPKtM=\", false, function () {\n  return [useMedia, useFormikContext, useField, useField];\n});\n\n_c = ReactDatePicker;\nexport default ReactDatePicker;\n\nvar _c;\n\n$RefreshReg$(_c, \"ReactDatePicker\");","map":{"version":3,"sources":["/Users/djsicrip/Documents/WorkSpace/hausboot/client/src/components/form/forms-ui/date-picker.component.js"],"names":["React","useState","DatePicker","Calendar","FormInputLabel","GroupContainer","StyledErrorMessage","addDays","useMedia","useField","useFormikContext","ReactDatePicker","name","name2","booked","startDate","setStartDate","Date","endDate","setEndDate","focusStart","setFocusStart","focusEnd","setFocusEnd","isMobile","maxWidth","setFieldValue","field","meta","value","field2","meta2","WithoutTime","dateTime","date","getTime","setHours","bookedDates","shouldDisableDates","arr","i","push","chooseDays","map","item","bookedDays","e","includes","some","filter","sort","val","touched","error"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\nimport DatePicker from 'react-datepicker';\nimport { Calendar, FormInputLabel, GroupContainer, StyledErrorMessage } from './date-picker.styles';\nimport addDays from 'date-fns/addDays';\nimport useMedia from 'use-media';\nimport { useField, useFormikContext } from 'formik';\nimport 'react-datepicker/dist/react-datepicker.css';\n\nconst ReactDatePicker = ({ name, name2, booked }) => {\n\tconst [startDate, setStartDate] = useState(new Date());\n\tconst [endDate, setEndDate] = useState(new Date());\n\tconst [focusStart, setFocusStart] = useState(false);\n\tconst [focusEnd, setFocusEnd] = useState(false);\n\tconst isMobile = useMedia({ maxWidth: '900px' });\n\n\tconst { setFieldValue } = useFormikContext();\n\tconst [field, meta] = useField({ name: name, value: startDate });\n\tconst [field2, meta2] = useField({ name: name2, value: endDate });\n\n\tfunction WithoutTime(dateTime) {\n\t\tvar date = new Date(dateTime.getTime());\n\t\tdate.setHours(0, 0, 0, 0);\n\t\treturn date;\n\t}\n\n\t// const bookedDates = [new Date('2021-05-20'), new Date('2021-05-21'), new Date('2021-05-22')];\n\tconst bookedDates = booked;\n\n\t//disables booked dates and sets a range limit of 5 days\n\tconst shouldDisableDates = () => {\n\t\tlet arr = [];\n\t\tfor (let i = 0; i <= 10; i++) {\n\t\t\tstartDate\n\t\t\t\t? arr.push(addDays(WithoutTime(startDate), i))\n\t\t\t\t: arr.push(addDays(WithoutTime(new Date()), i));\n\t\t}\n\t\tlet chooseDays = arr.map((item) => item.getTime());\n\t\tlet bookedDays = bookedDates.map((item) => WithoutTime(item).getTime());\n\n\t\tif (chooseDays.map((e) => bookedDays.includes(e)).some((e) => e === true)) {\n\t\t\treturn new Date(chooseDays.filter((e) => bookedDays.includes(e)).sort()[0]);\n\t\t} else {\n\t\t\treturn startDate ? addDays(startDate, 10) : addDays(new Date(), 10);\n\t\t}\n\t};\n\n\treturn (\n\t\t<Calendar>\n\t\t\t<GroupContainer>\n\t\t\t\t<FormInputLabel focus={focusStart} className={startDate ? 'shrink' : ''}>\n\t\t\t\t\tAnreisedatum\n\t\t\t\t</FormInputLabel>\n\t\t\t\t<DatePicker\n\t\t\t\t\t{...field}\n\t\t\t\t\t// {...props}\n\t\t\t\t\tonFocus={() => setFocusStart(true)}\n\t\t\t\t\tonCalendarClose={() => setFocusStart(false)}\n\t\t\t\t\tselected={(field.value && new Date(field.value)) || null}\n\t\t\t\t\t// selected={startDate}\n\t\t\t\t\tonChange={(val) => {\n\t\t\t\t\t\tsetStartDate(val);\n\t\t\t\t\t\tsetFieldValue(field.name, val);\n\t\t\t\t\t}}\n\t\t\t\t\tdateFormat=\"dd.MM.yyyy\"\n\t\t\t\t\t// onChange={(date) => setStartDate(date)}\n\t\t\t\t\tselectsStart\n\t\t\t\t\tstartDate={startDate}\n\t\t\t\t\tendDate={endDate}\n\t\t\t\t\tminDate={new Date()}\n\t\t\t\t\texcludeDates={bookedDates}\n\t\t\t\t\twithPortal={isMobile}\n\t\t\t\t/>\n\t\t\t\t{meta.touched && meta.error ? <StyledErrorMessage>{meta.error}</StyledErrorMessage> : null}\n\t\t\t</GroupContainer>\n\t\t\t<GroupContainer>\n\t\t\t\t<FormInputLabel focus={focusEnd} className={endDate ? 'shrink' : ''}>\n\t\t\t\t\tAbreisedatum\n\t\t\t\t</FormInputLabel>\n\t\t\t\t<DatePicker\n\t\t\t\t\t{...field2}\n\t\t\t\t\t// {...props}\n\t\t\t\t\tonFocus={() => setFocusEnd(true)}\n\t\t\t\t\tonCalendarClose={() => setFocusEnd(false)}\n\t\t\t\t\t// selected={endDate}\n\t\t\t\t\tselected={(field2.value && new Date(field2.value)) || null}\n\t\t\t\t\tonChange={(val) => {\n\t\t\t\t\t\tsetEndDate(val);\n\t\t\t\t\t\tsetFieldValue(field2.name, val);\n\t\t\t\t\t}}\n\t\t\t\t\tdateFormat=\"dd.MM.yyyy\"\n\t\t\t\t\t// onChange={(date) => setEndDate(date)}\n\t\t\t\t\tselectsEnd\n\t\t\t\t\tstartDate={startDate}\n\t\t\t\t\tendDate={endDate}\n\t\t\t\t\tminDate={startDate}\n\t\t\t\t\tmaxDate={shouldDisableDates()}\n\t\t\t\t\texcludeDates={bookedDates}\n\t\t\t\t\twithPortal={isMobile}\n\t\t\t\t/>\n\t\t\t\t{meta2.touched && meta2.error ? (\n\t\t\t\t\t<StyledErrorMessage>{meta2.error}</StyledErrorMessage>\n\t\t\t\t) : null}\n\t\t\t</GroupContainer>\n\t\t</Calendar>\n\t);\n};\n\nexport default ReactDatePicker;\n"]},"metadata":{},"sourceType":"module"}