{"ast":null,"code":"var _jsxFileName = \"/Users/djsicrip/Documents/WorkSpace/hausboot/client/src/components/form/paypal.js\",\n    _s2 = $RefreshSig$();\n\nimport React, { useState, useRef, useEffect } from 'react';\nimport axios from 'axios';\nimport { useHistory } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Paypal = ({\n  product,\n  bookingState\n}) => {\n  _s2();\n\n  var _s = $RefreshSig$();\n\n  const [paidFor, setPaidFor] = useState(false);\n  const [error, setError] = useState(null);\n  const paypalRef = useRef();\n  const formEl = useRef(null);\n  const history = useHistory();\n  const googleForm = process.env.REACT_APP_GOOGLE_FORM_ID;\n  const config = {\n    // cors: 'https://cors-anywhere.herokuapp.com/', // <optional> doesn't display the cors error\n    formUrl: `https://docs.google.com/forms/u/0/d/e/${googleForm}/formResponse`\n  };\n  const inputs = {\n    name: {\n      id: 2092238618,\n      value: ''\n    },\n    email: {\n      id: 1488469460,\n      value: bookingState.email\n    },\n    phone: {\n      id: 1950867635,\n      value: bookingState.phone\n    },\n    person: {\n      id: 816843087,\n      value: `Anzahl Personen: ${bookingState.person}`\n    },\n    child: {\n      id: 1313324539,\n      value: bookingState.child === '0' ? '' : bookingState.child > 1 ? `${bookingState.child} Kinder` : `${bookingState.child} Kind`\n    },\n    dog: {\n      id: 1525844151,\n      value: bookingState.dog === '0' ? '' : bookingState.dog > 1 ? `${bookingState.dog} Hunde` : `${bookingState.dog} Hund`\n    },\n    startTime_hour: {\n      id: '1195734802_hour',\n      value: '10'\n    },\n    startTime_minute: {\n      id: '1195734802_minute',\n      value: '00'\n    },\n    endTime_hour: {\n      id: '649634804_hour',\n      value: '17'\n    },\n    endTime_minute: {\n      id: '649634804_minute',\n      value: '00'\n    },\n    location: {\n      id: 1011833342,\n      value: ''\n    },\n    arrivalDate_day: {\n      id: '1981922390_day',\n      value: bookingState.arrivalDate.getDate()\n    },\n    arrivalDate_month: {\n      id: '1981922390_month',\n      value: bookingState.arrivalDate.getMonth() + 1\n    },\n    arrivalDate_year: {\n      id: '1981922390_year',\n      value: bookingState.arrivalDate.getFullYear()\n    },\n    departureDate_day: {\n      id: '1424445665_day',\n      value: bookingState.departureDate.getDate()\n    },\n    departureDate_month: {\n      id: '1424445665_month',\n      value: bookingState.departureDate.getMonth() + 1\n    },\n    departureDate_year: {\n      id: '1424445665_year',\n      value: bookingState.departureDate.getFullYear()\n    },\n    hausboot: {\n      id: 269115742,\n      value: 'Rot'\n    }\n  };\n\n  const doSubmit = async e => {\n    _s();\n\n    e.preventDefault();\n    const formData = new FormData();\n    inputs.map(item => {\n      return formData.append(`entry.${item.id}`, item.value);\n    });\n    await axios({\n      // url: `${config.cors}${config.formUrl}`,\n      url: `${config.formUrl}`,\n      method: 'post',\n      data: formData,\n      responseType: 'json'\n    }).then(res => {\n      console.log('response', res);\n      history.push('/booking');\n    }).catch(err => {\n      console.log('err', err);\n    });\n    useEffect(() => {\n      window.paypal.Buttons({\n        createOrder: (data, actions) => {\n          return actions.order.create({\n            purchase_units: [{\n              description: product.name,\n              amount: {\n                currency_code: 'EUR',\n                value: product.price\n              }\n            }]\n          });\n        },\n        onApprove: async (data, actions) => {\n          const order = await actions.order.capture(); // formEl.current.submit();\n\n          setPaidFor(true);\n          doSubmit();\n          console.log(order);\n\n          if (data.orderID) {\n            console.log('%c Order Successfully made!', 'color: yellow');\n          }\n        },\n        onError: err => {\n          setError(err);\n          console.error(err);\n        }\n      }).render(paypalRef.current);\n    }, [product.price, product.name, history]);\n\n    if (paidFor) {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        children: \"Successfully Paid\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 11\n      }, this);\n    }\n  };\n\n  _s(doSubmit, \"OD7bBpZva5O2jO+Puf00hKivP7c=\");\n\n  return /*#__PURE__*/_jsxDEV(React.Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        style: {\n          paddingBottom: '10px'\n        },\n        children: \"Jetzt bezahlen um die Buchung zu best\\xE4tigen:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 5\n      }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [\"Uh oh, an error occurred! \", error.message]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 15\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        ref: paypalRef\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      ref: formEl,\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        name: \"entry.2092238618\",\n        hidden: true,\n        defaultValue: \"\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        name: \"entry.1488469460\",\n        hidden: true,\n        defaultValue: bookingState.email\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        name: \"entry.1950867635\",\n        hidden: true,\n        defaultValue: bookingState.phone\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        name: \"entry.816843087\",\n        hidden: true,\n        defaultValue: `Anzahl Personen: ${bookingState.person}`\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        name: \"entry.1313324539\",\n        hidden: true,\n        defaultValue: bookingState.child === '0' ? '' : bookingState.child > 1 ? `${bookingState.child} Kinder` : `${bookingState.child} Kind`\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        name: \"entry.1525844151\",\n        hidden: true,\n        defaultValue: bookingState.dog === '0' ? '' : bookingState.dog > 1 ? `${bookingState.dog} Hunde` : `${bookingState.dog} Hund`\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 150,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        name: \"entry.1195734802_hour\",\n        hidden: true,\n        defaultValue: \"10\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 164,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        name: \"entry.1195734802_minute\",\n        hidden: true,\n        defaultValue: \"00\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 165,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        name: \"entry.649634804_hour\",\n        hidden: true,\n        defaultValue: \"17\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 169,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        name: \"entry.649634804_minute\",\n        hidden: true,\n        defaultValue: \"00\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 170,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        name: \"entry.1011833342\",\n        hidden: true,\n        defaultValue: \"\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 174,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        name: \"entry.1981922390_day\",\n        hidden: true,\n        defaultValue: bookingState.arrivalDate.getDate()\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 178,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        name: \"entry.1981922390_month\",\n        hidden: true,\n        defaultValue: bookingState.arrivalDate.getMonth() + 1\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 183,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        name: \"entry.1981922390_year\",\n        hidden: true,\n        defaultValue: bookingState.arrivalDate.getFullYear()\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 188,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        name: \"entry.1424445665_year\",\n        hidden: true,\n        defaultValue: bookingState.departureDate.getFullYear()\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 196,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        name: \"entry.1424445665_month\",\n        hidden: true,\n        defaultValue: bookingState.departureDate.getMonth() + 1\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 201,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        name: \"entry.1424445665_day\",\n        hidden: true,\n        defaultValue: bookingState.departureDate.getDate()\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 206,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        name: \"entry.269115742\",\n        hidden: true,\n        defaultValue: \"Rot\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 214,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 4\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 121,\n    columnNumber: 3\n  }, this);\n};\n\n_s2(Paypal, \"526FB20ou7LRZ9F2tHUJAjx7SdA=\", false, function () {\n  return [useHistory];\n});\n\n_c = Paypal;\nexport default Paypal;\n\nvar _c;\n\n$RefreshReg$(_c, \"Paypal\");","map":{"version":3,"sources":["/Users/djsicrip/Documents/WorkSpace/hausboot/client/src/components/form/paypal.js"],"names":["React","useState","useRef","useEffect","axios","useHistory","Paypal","product","bookingState","paidFor","setPaidFor","error","setError","paypalRef","formEl","history","googleForm","process","env","REACT_APP_GOOGLE_FORM_ID","config","formUrl","inputs","name","id","value","email","phone","person","child","dog","startTime_hour","startTime_minute","endTime_hour","endTime_minute","location","arrivalDate_day","arrivalDate","getDate","arrivalDate_month","getMonth","arrivalDate_year","getFullYear","departureDate_day","departureDate","departureDate_month","departureDate_year","hausboot","doSubmit","e","preventDefault","formData","FormData","map","item","append","url","method","data","responseType","then","res","console","log","push","catch","err","window","paypal","Buttons","createOrder","actions","order","create","purchase_units","description","amount","currency_code","price","onApprove","capture","orderID","onError","render","current","paddingBottom","message"],"mappings":"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","sourcesContent":["import React, { useState, useRef, useEffect } from 'react';\nimport axios from 'axios';\nimport { useHistory } from 'react-router-dom';\n\nconst Paypal = ({ product, bookingState }) => {\n\tconst [paidFor, setPaidFor] = useState(false);\n\tconst [error, setError] = useState(null);\n\tconst paypalRef = useRef();\n\tconst formEl = useRef(null);\n\tconst history = useHistory();\n\n\tconst googleForm = process.env.REACT_APP_GOOGLE_FORM_ID;\n\tconst config = {\n\t\t// cors: 'https://cors-anywhere.herokuapp.com/', // <optional> doesn't display the cors error\n\t\tformUrl: `https://docs.google.com/forms/u/0/d/e/${googleForm}/formResponse`,\n\t};\n\n\tconst inputs = {\n\t\tname: { id: 2092238618, value: '' },\n\t\temail: { id: 1488469460, value: bookingState.email },\n\t\tphone: { id: 1950867635, value: bookingState.phone },\n\t\tperson: { id: 816843087, value: `Anzahl Personen: ${bookingState.person}` },\n\t\tchild: {\n\t\t\tid: 1313324539,\n\t\t\tvalue:\n\t\t\t\tbookingState.child === '0'\n\t\t\t\t\t? ''\n\t\t\t\t\t: bookingState.child > 1\n\t\t\t\t\t? `${bookingState.child} Kinder`\n\t\t\t\t\t: `${bookingState.child} Kind`,\n\t\t},\n\t\tdog: {\n\t\t\tid: 1525844151,\n\t\t\tvalue:\n\t\t\t\tbookingState.dog === '0'\n\t\t\t\t\t? ''\n\t\t\t\t\t: bookingState.dog > 1\n\t\t\t\t\t? `${bookingState.dog} Hunde`\n\t\t\t\t\t: `${bookingState.dog} Hund`,\n\t\t},\n\t\tstartTime_hour: { id: '1195734802_hour', value: '10' },\n\t\tstartTime_minute: { id: '1195734802_minute', value: '00' },\n\t\tendTime_hour: { id: '649634804_hour', value: '17' },\n\t\tendTime_minute: { id: '649634804_minute', value: '00' },\n\t\tlocation: { id: 1011833342, value: '' },\n\t\tarrivalDate_day: { id: '1981922390_day', value: bookingState.arrivalDate.getDate() },\n\t\tarrivalDate_month: { id: '1981922390_month', value: bookingState.arrivalDate.getMonth() + 1 },\n\t\tarrivalDate_year: { id: '1981922390_year', value: bookingState.arrivalDate.getFullYear() },\n\t\tdepartureDate_day: { id: '1424445665_day', value: bookingState.departureDate.getDate() },\n\t\tdepartureDate_month: {\n\t\t\tid: '1424445665_month',\n\t\t\tvalue: bookingState.departureDate.getMonth() + 1,\n\t\t},\n\t\tdepartureDate_year: { id: '1424445665_year', value: bookingState.departureDate.getFullYear() },\n\t\thausboot: { id: 269115742, value: 'Rot' },\n\t};\n\n\tconst doSubmit = async (e) => {\n\t\te.preventDefault();\n\n\t\tconst formData = new FormData();\n\n\t\tinputs.map((item) => {\n\t\t\treturn formData.append(`entry.${item.id}`, item.value);\n\t\t});\n\n\t\tawait axios({\n\t\t\t// url: `${config.cors}${config.formUrl}`,\n\t\t\turl: `${config.formUrl}`,\n\t\t\tmethod: 'post',\n\t\t\tdata: formData,\n\t\t\tresponseType: 'json',\n\t\t})\n\t\t\t.then((res) => {\n\t\t\t\tconsole.log('response', res);\n\t\t\t\thistory.push('/booking');\n\t\t\t})\n\t\t\t.catch((err) => {\n\t\t\t\tconsole.log('err', err);\n\t\t\t});\n\t\tuseEffect(() => {\n\t\t\twindow.paypal\n\t\t\t\t.Buttons({\n\t\t\t\t\tcreateOrder: (data, actions) => {\n\t\t\t\t\t\treturn actions.order.create({\n\t\t\t\t\t\t\tpurchase_units: [\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tdescription: product.name,\n\t\t\t\t\t\t\t\t\tamount: {\n\t\t\t\t\t\t\t\t\t\tcurrency_code: 'EUR',\n\t\t\t\t\t\t\t\t\t\tvalue: product.price,\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t],\n\t\t\t\t\t\t});\n\t\t\t\t\t},\n\t\t\t\t\tonApprove: async (data, actions) => {\n\t\t\t\t\t\tconst order = await actions.order.capture();\n\t\t\t\t\t\t// formEl.current.submit();\n\t\t\t\t\t\tsetPaidFor(true);\n\t\t\t\t\t\tdoSubmit();\n\t\t\t\t\t\tconsole.log(order);\n\n\t\t\t\t\t\tif (data.orderID) {\n\t\t\t\t\t\t\tconsole.log('%c Order Successfully made!', 'color: yellow');\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\tonError: (err) => {\n\t\t\t\t\t\tsetError(err);\n\t\t\t\t\t\tconsole.error(err);\n\t\t\t\t\t},\n\t\t\t\t})\n\t\t\t\t.render(paypalRef.current);\n\t\t}, [product.price, product.name, history]);\n\n\t\tif (paidFor) {\n\t\t\treturn <div>Successfully Paid</div>;\n\t\t}\n\t};\n\treturn (\n\t\t<React.Fragment>\n\t\t\t<div>\n\t\t\t\t<h2 style={{ paddingBottom: '10px' }}>Jetzt bezahlen um die Buchung zu best√§tigen:</h2>\n\t\t\t\t{error && <div>Uh oh, an error occurred! {error.message}</div>}\n\t\t\t\t<div ref={paypalRef} />\n\t\t\t</div>\n\t\t\t<form ref={formEl}>\n\t\t\t\t<input name=\"entry.2092238618\" hidden defaultValue=\"\" />\n\t\t\t\t<input name=\"entry.1488469460\" hidden defaultValue={bookingState.email} />\n\t\t\t\t<input name=\"entry.1950867635\" hidden defaultValue={bookingState.phone} />\n\t\t\t\t<input\n\t\t\t\t\tname=\"entry.816843087\"\n\t\t\t\t\thidden\n\t\t\t\t\tdefaultValue={`Anzahl Personen: ${bookingState.person}`}\n\t\t\t\t/>\n\t\t\t\t{\n\t\t\t\t\t//Hunde & Kinder\n\t\t\t\t}\n\t\t\t\t<input\n\t\t\t\t\tname=\"entry.1313324539\"\n\t\t\t\t\thidden\n\t\t\t\t\tdefaultValue={\n\t\t\t\t\t\tbookingState.child === '0'\n\t\t\t\t\t\t\t? ''\n\t\t\t\t\t\t\t: bookingState.child > 1\n\t\t\t\t\t\t\t? `${bookingState.child} Kinder`\n\t\t\t\t\t\t\t: `${bookingState.child} Kind`\n\t\t\t\t\t}\n\t\t\t\t/>\n\t\t\t\t<input\n\t\t\t\t\tname=\"entry.1525844151\"\n\t\t\t\t\thidden\n\t\t\t\t\tdefaultValue={\n\t\t\t\t\t\tbookingState.dog === '0'\n\t\t\t\t\t\t\t? ''\n\t\t\t\t\t\t\t: bookingState.dog > 1\n\t\t\t\t\t\t\t? `${bookingState.dog} Hunde`\n\t\t\t\t\t\t\t: `${bookingState.dog} Hund`\n\t\t\t\t\t}\n\t\t\t\t/>\n\t\t\t\t{\n\t\t\t\t\t//StartTime\n\t\t\t\t}\n\t\t\t\t<input name=\"entry.1195734802_hour\" hidden defaultValue=\"10\" />\n\t\t\t\t<input name=\"entry.1195734802_minute\" hidden defaultValue=\"00\" />\n\t\t\t\t{\n\t\t\t\t\t//EndTime\n\t\t\t\t}\n\t\t\t\t<input name=\"entry.649634804_hour\" hidden defaultValue=\"17\" />\n\t\t\t\t<input name=\"entry.649634804_minute\" hidden defaultValue=\"00\" />\n\t\t\t\t{\n\t\t\t\t\t//Location\n\t\t\t\t}\n\t\t\t\t<input name=\"entry.1011833342\" hidden defaultValue=\"\" />\n\t\t\t\t{\n\t\t\t\t\t//StartDate\n\t\t\t\t}\n\t\t\t\t<input\n\t\t\t\t\tname=\"entry.1981922390_day\"\n\t\t\t\t\thidden\n\t\t\t\t\tdefaultValue={bookingState.arrivalDate.getDate()}\n\t\t\t\t/>\n\t\t\t\t<input\n\t\t\t\t\tname=\"entry.1981922390_month\"\n\t\t\t\t\thidden\n\t\t\t\t\tdefaultValue={bookingState.arrivalDate.getMonth() + 1}\n\t\t\t\t/>\n\t\t\t\t<input\n\t\t\t\t\tname=\"entry.1981922390_year\"\n\t\t\t\t\thidden\n\t\t\t\t\tdefaultValue={bookingState.arrivalDate.getFullYear()}\n\t\t\t\t/>\n\t\t\t\t{\n\t\t\t\t\t//EndDate\n\t\t\t\t}\n\t\t\t\t<input\n\t\t\t\t\tname=\"entry.1424445665_year\"\n\t\t\t\t\thidden\n\t\t\t\t\tdefaultValue={bookingState.departureDate.getFullYear()}\n\t\t\t\t/>\n\t\t\t\t<input\n\t\t\t\t\tname=\"entry.1424445665_month\"\n\t\t\t\t\thidden\n\t\t\t\t\tdefaultValue={bookingState.departureDate.getMonth() + 1}\n\t\t\t\t/>\n\t\t\t\t<input\n\t\t\t\t\tname=\"entry.1424445665_day\"\n\t\t\t\t\thidden\n\t\t\t\t\tdefaultValue={bookingState.departureDate.getDate()}\n\t\t\t\t/>\n\t\t\t\t{\n\t\t\t\t\t//Radio\n\t\t\t\t}\n\t\t\t\t<input name=\"entry.269115742\" hidden defaultValue=\"Rot\" />\n\t\t\t</form>\n\t\t</React.Fragment>\n\t);\n};\n\nexport default Paypal;\n"]},"metadata":{},"sourceType":"module"}